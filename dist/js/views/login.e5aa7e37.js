import{I as V,C as y,J as v,q as C,D as h,j as D}from"../element-plus/element-plus.68c8c2a5.js";import{a as N}from"../vue-router/vue-router.a2e49a81.js";import{U as k,V as E}from"../@element-plus/@element-plus.21bda35a.js";import{d as R}from"../pinia/pinia.1a363fcc.js";import{V as U,m as _,r as p,o as z,c as S,a as q,_ as t,z as l,u as e,S as I,Z as M}from"../@vue/@vue.c1deb8a0.js";import{_ as T}from"../index.ab2a1ca6.js";import"../lodash-es/lodash-es.edb1024b.js";import"../@vueuse/@vueuse.8b416ba0.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.17547d95.js";import"../dayjs/dayjs.e1207169.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.5bbd8ca4.js";import"../nprogress/nprogress.c57e5671.js";import"../bin-datav/bin-datav.84ebf921.js";import"../axios/axios.aade88d5.js";import"../form-data/form-data.3e107400.js";const j=R("user",{state:()=>({token:""}),actions:{async login(n){if(n.userName!=="123456")throw{code:1e4,msg:"\u8D26\u53F7\u9519\u8BEF"};if(n.password!="123456")throw{code:1e4,msg:"\u5BC6\u7801\u9519\u8BEF"};return{code:200,msg:"\u767B\u5F55\u6210\u529F"}}}}),A={class:"login"},J={class:"login-content"},L=U({__name:"login",setup(n){const f=j(),g=N(),r=_({userName:"",password:""}),c=p(),F=_({userName:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]});let a=p(!0),i=p(!1);const B=async m=>{!m||await m.validate((o,d)=>{o?(i.value=!0,f.login(r).then(u=>{D({message:"\u767B\u5F55\u6210\u529F",type:"success"}),setTimeout(()=>{g.push("/"),i.value=!1},1500)}).catch(u=>{i.value=!1})):console.log("\u9A8C\u8BC1\u5931\u8D25")})};return(m,o)=>{const d=V,u=y,w=v,x=C,b=h;return z(),S("div",A,[q("div",J,[t(b,{model:e(r),ref_key:"formDataRef",ref:c,rules:e(F)},{default:l(()=>[t(u,{prop:"userName"},{default:l(()=>[t(d,{"prefix-icon":e(k),size:"large",clearable:"",style:{width:"300px"},modelValue:e(r).userName,"onUpdate:modelValue":o[0]||(o[0]=s=>e(r).userName=s),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,8,["prefix-icon","modelValue"])]),_:1}),t(u,{prop:"password"},{default:l(()=>[t(d,{size:"large","prefix-icon":e(E),clearable:"","show-password":"",style:{width:"300px"},modelValue:e(r).password,"onUpdate:modelValue":o[1]||(o[1]=s=>e(r).password=s),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["prefix-icon","modelValue"])]),_:1}),t(u,null,{default:l(()=>[t(w,{style:{width:"300px"},modelValue:e(a),"onUpdate:modelValue":o[2]||(o[2]=s=>I(a)?a.value=s:a=s),label:"\u8BB0\u4F4F\u5BC6\u7801",size:"large"},null,8,["modelValue"])]),_:1}),t(u,null,{default:l(()=>[t(x,{style:{width:"100%"},type:"primary",loading:e(i),onClick:o[3]||(o[3]=s=>B(e(c)))},{default:l(()=>[M("\u767B\u5F55")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}});const ne=T(L,[["__scopeId","data-v-7b09e0b2"]]);export{ne as default};
